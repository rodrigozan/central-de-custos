datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id_user       Int            @id @default(autoincrement())
  nm_user       String         @db.VarChar(255)
  of_user       String         @db.VarChar(255)
  dp_user       Department[]   @relation(fields: [department_id], references: [id_department])
  department_id Int
  role          Role           @default(USER)
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  CostsCentral  CostsCentral[]
}

model Department {
  id_department Int            @id @default(autoincrement())
  nm_department String         @db.VarChar(255)
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  User          User[]
  CostsCentral  CostsCentral[]
}

model CostsCentral {
  id_costs_central Int          @id @default(autoincrement())
  nm_costs_central String       @db.VarChar(255)
  dc_costs_central String       @db.VarChar(255)
  dp_claimant      User[]       @relation(fields: [user_id], references: [id_user])
  user_id          Int
  dp_costs_central Department[] @relation(fields: [department_id], references: [id_department])
  department_id    Int
  createdAt        DateTime     @default(now())
  updatedAt        DateTime     @updatedAt
}

enum Role {
  USER
  ADMIN
}
